{"ast":null,"code":"import _objectSpread from\"/home/nyaencha/Music/m&e/caritas-me-system/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import'../styles/App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({username:'',password:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const navigate=useNavigate();const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));setError('');// Clear error on input change\n};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const response=await fetch('/api/v1/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});const data=await response.json();if(data.success){// Store token\nlocalStorage.setItem('token',data.data.accessToken);localStorage.setItem('user',JSON.stringify(data.data.user));// Redirect to dashboard\nnavigate('/dashboard');}else{setError(data.message||'Login failed');}}catch(err){setError('Network error. Please check your connection.');console.error('Login error:',err);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-logo\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDFE5 Caritas Nairobi\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Monitoring & Evaluation System\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px 15px',background:'rgba(231, 76, 60, 0.1)',color:'#e74c3c',borderRadius:'4px',marginBottom:'15px',fontSize:'13px'},children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\uD83D\\uDC64 Username or Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",className:\"form-input\",placeholder:\"Enter your username or email\",value:formData.username,onChange:handleChange,required:true,autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\uD83D\\uDD12 Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-input\",placeholder:\"Enter your password\",value:formData.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px',fontSize:'13px'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'5px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Remember me\"})]}),/*#__PURE__*/_jsx(\"a\",{href:\"#forgot\",style:{color:'#3498db',textDecoration:'none'},children:\"Forgot Password?\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",style:{width:'100%',justifyContent:'center',padding:'12px'},disabled:loading,children:loading?'‚è≥ Signing in...':'üöÄ Sign In'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',textAlign:'center',fontSize:'12px',color:'#7f8c8d'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Default credentials for testing:\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:'monospace',marginTop:'5px'},children:[\"Username: \",/*#__PURE__*/_jsx(\"strong\",{children:\"admin\"}),\" | Password: \",/*#__PURE__*/_jsx(\"strong\",{children:\"Admin@123\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'20px',textAlign:'center',width:'100%',color:'rgba(255,255,255,0.8)',fontSize:'12px'},children:\"\\xA9 2025 Caritas Nairobi. All rights reserved.\"})]});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","username","password","loading","setLoading","error","setError","navigate","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","success","localStorage","setItem","accessToken","user","message","err","console","className","children","onSubmit","style","padding","background","color","borderRadius","marginBottom","fontSize","type","placeholder","onChange","required","autoFocus","display","justifyContent","alignItems","gap","href","textDecoration","width","disabled","marginTop","textAlign","fontFamily","position","bottom"],"sources":["/home/nyaencha/Music/m&e/caritas-me-system/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/App.css';\n\nconst Login = () => {\n    const [formData, setFormData] = useState({\n        username: '',\n        password: ''\n    });\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const navigate = useNavigate();\n\n    const handleChange = (e) => {\n        setFormData({\n            ...formData,\n            [e.target.name]: e.target.value\n        });\n        setError(''); // Clear error on input change\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        setError('');\n\n        try {\n            const response = await fetch('/api/v1/auth/login', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(formData)\n            });\n\n            const data = await response.json();\n\n            if (data.success) {\n                // Store token\n                localStorage.setItem('token', data.data.accessToken);\n                localStorage.setItem('user', JSON.stringify(data.data.user));\n                \n                // Redirect to dashboard\n                navigate('/dashboard');\n            } else {\n                setError(data.message || 'Login failed');\n            }\n        } catch (err) {\n            setError('Network error. Please check your connection.');\n            console.error('Login error:', err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"login-container\">\n            <div className=\"login-card\">\n                <div className=\"login-logo\">\n                    <h1>üè• Caritas Nairobi</h1>\n                    <p>Monitoring & Evaluation System</p>\n                </div>\n\n                <form onSubmit={handleSubmit}>\n                    {error && (\n                        <div style={{\n                            padding: '10px 15px',\n                            background: 'rgba(231, 76, 60, 0.1)',\n                            color: '#e74c3c',\n                            borderRadius: '4px',\n                            marginBottom: '15px',\n                            fontSize: '13px'\n                        }}>\n                            {error}\n                        </div>\n                    )}\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">\n                            üë§ Username or Email\n                        </label>\n                        <input\n                            type=\"text\"\n                            name=\"username\"\n                            className=\"form-input\"\n                            placeholder=\"Enter your username or email\"\n                            value={formData.username}\n                            onChange={handleChange}\n                            required\n                            autoFocus\n                        />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label className=\"form-label\">\n                            üîí Password\n                        </label>\n                        <input\n                            type=\"password\"\n                            name=\"password\"\n                            className=\"form-input\"\n                            placeholder=\"Enter your password\"\n                            value={formData.password}\n                            onChange={handleChange}\n                            required\n                        />\n                    </div>\n\n                    <div style={{ \n                        display: 'flex', \n                        justifyContent: 'space-between', \n                        alignItems: 'center',\n                        marginBottom: '20px',\n                        fontSize: '13px'\n                    }}>\n                        <label style={{ display: 'flex', alignItems: 'center', gap: '5px' }}>\n                            <input type=\"checkbox\" />\n                            <span>Remember me</span>\n                        </label>\n                        <a href=\"#forgot\" style={{ color: '#3498db', textDecoration: 'none' }}>\n                            Forgot Password?\n                        </a>\n                    </div>\n\n                    <button \n                        type=\"submit\" \n                        className=\"btn btn-primary\" \n                        style={{ width: '100%', justifyContent: 'center', padding: '12px' }}\n                        disabled={loading}\n                    >\n                        {loading ? '‚è≥ Signing in...' : 'üöÄ Sign In'}\n                    </button>\n                </form>\n\n                <div style={{ \n                    marginTop: '20px', \n                    textAlign: 'center',\n                    fontSize: '12px',\n                    color: '#7f8c8d'\n                }}>\n                    <p>Default credentials for testing:</p>\n                    <p style={{ fontFamily: 'monospace', marginTop: '5px' }}>\n                        Username: <strong>admin</strong> | Password: <strong>Admin@123</strong>\n                    </p>\n                </div>\n            </div>\n\n            <div style={{\n                position: 'absolute',\n                bottom: '20px',\n                textAlign: 'center',\n                width: '100%',\n                color: 'rgba(255,255,255,0.8)',\n                fontSize: '12px'\n            }}>\n                ¬© 2025 Caritas Nairobi. All rights reserved.\n            </div>\n        </div>\n    );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}